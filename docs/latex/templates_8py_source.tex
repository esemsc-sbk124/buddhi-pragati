\doxysection{templates.\+py}
\hypertarget{templates_8py_source}{}\label{templates_8py_source}\index{buddhi\_pragati/evaluate/templates.py@{buddhi\_pragati/evaluate/templates.py}}
\mbox{\hyperlink{templates_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00001}\mbox{\hyperlink{namespacebuddhi__pragati_1_1evaluate_1_1templates}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00002}00002\ \textcolor{stringliteral}{Modular\ crossword\ prompt\ template\ system\ with\ multilingual\ support.}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00004}00004\ \textcolor{stringliteral}{This\ module\ provides\ composable\ prompt\ templates\ that\ support\ all\ 19\ languages}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00005}00005\ \textcolor{stringliteral}{and\ various\ experimental\ conditions\ like\ few-\/shot,\ chain-\/of-\/thought,\ and}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00006}00006\ \textcolor{stringliteral}{different\ reasoning\ effort\ levels.}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00007}00007\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00009}00009\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00010}00010\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00011}00011\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Dict,\ List,\ Optional}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00012}00012\ \textcolor{keyword}{from}\ pathlib\ \textcolor{keyword}{import}\ Path}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00014}00014\ \textcolor{keyword}{from}\ ..utils.config\_loader\ \textcolor{keyword}{import}\ get\_config}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00017}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader}{00017}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader}{PromptLoader}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00018}00018\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ Loads\ and\ manages\ multilingual\ prompt\ templates\ from\ JSON\ files.}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00022}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a8f7d3b1fe4f2474c2d2c88bb59096984}{00022}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a8f7d3b1fe4f2474c2d2c88bb59096984}{\_\_init\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00023}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a7de61a8b2b346c86a2954a5ecf4de5c0}{00023}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a7de61a8b2b346c86a2954a5ecf4de5c0}{logger}}\ =\ logging.getLogger(\textcolor{stringliteral}{"{}PromptLoader"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00024}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_acac3ee433875006e7b81a8f8d59dc0f4}{00024}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_acac3ee433875006e7b81a8f8d59dc0f4}{prompts\_dir}}\ =\ Path(\_\_file\_\_).parent\ /\ \textcolor{stringliteral}{"{}prompts"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00025}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_abd0ca4d501f8aa33021da243b508e6de}{00025}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_abd0ca4d501f8aa33021da243b508e6de}{\_prompt\_cache}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00027}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a419b06f91ef9f031d14325ac07beeeee}{00027}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a419b06f91ef9f031d14325ac07beeeee}{load\_prompts}}(self,\ filename:\ str)\ -\/>\ Dict:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Load\ prompts\ from\ a\ JSON\ file\ with\ caching."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ filename\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_abd0ca4d501f8aa33021da243b508e6de}{\_prompt\_cache}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_abd0ca4d501f8aa33021da243b508e6de}{\_prompt\_cache}}[filename]}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ filepath\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_acac3ee433875006e7b81a8f8d59dc0f4}{prompts\_dir}}\ /\ filename}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(filepath,\ \textcolor{stringliteral}{"{}r"{}},\ encoding=\textcolor{stringliteral}{"{}utf-\/8"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prompts\ =\ json.load(f)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_abd0ca4d501f8aa33021da243b508e6de}{\_prompt\_cache}}[filename]\ =\ prompts}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ prompts}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ FileNotFoundError:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a7de61a8b2b346c86a2954a5ecf4de5c0}{logger}}.error(f\textcolor{stringliteral}{"{}Prompt\ file\ not\ found:\ \{filepath\}"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ json.JSONDecodeError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a7de61a8b2b346c86a2954a5ecf4de5c0}{logger}}.error(f\textcolor{stringliteral}{"{}Invalid\ JSON\ in\ \{filepath\}:\ \{e\}"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00045}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a8fca1ad130f4b9e65cb7b2d7a8e043f9}{00045}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a8fca1ad130f4b9e65cb7b2d7a8e043f9}{get\_prompt}}(self,\ filename:\ str,\ key:\ str)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ a\ specific\ prompt\ (all\ prompts\ are\ now\ in\ English)."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ prompts\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a419b06f91ef9f031d14325ac07beeeee}{load\_prompts}}(filename)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ key\ \textcolor{keywordflow}{in}\ prompts\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}English"{}}\ \textcolor{keywordflow}{in}\ prompts[key]:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ prompts[key][\textcolor{stringliteral}{"{}English"{}}]}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader_a7de61a8b2b346c86a2954a5ecf4de5c0}{logger}}.error(f\textcolor{stringliteral}{"{}Prompt\ not\ found:\ \{key\}\ in\ \{filename\}"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}[Missing\ prompt:\ \{key\}]"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00055}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate}{00055}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate}{CrosswordPromptTemplate}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00056}00056\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ Composable\ crossword\ prompt\ template\ system.}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00058}00058\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ Supports\ various\ experimental\ conditions:}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00060}00060\ \textcolor{stringliteral}{\ \ \ \ -\/\ Zero-\/shot,\ one-\/shot,\ few-\/shot\ prompting}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ -\/\ Chain\ of\ thought\ vs\ direct\ answering}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ -\/\ High\ vs\ low\ reasoning\ effort}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ -\/\ Self-\/reflection\ capabilities}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ -\/\ Multilingual\ evaluation\ with\ English\ prompts}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00067}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ae0d0d71b15a043416e2cf44219570756}{00067}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ae0d0d71b15a043416e2cf44219570756}{\_\_init\_\_}}(self,\ target\_language:\ str\ =\ \textcolor{stringliteral}{"{}English"{}}):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00068}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a407f9c20630dc48ed62a3a3c4ed47f25}{00068}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a407f9c20630dc48ed62a3a3c4ed47f25}{target\_language}}\ =\ target\_language\ \ \textcolor{comment}{\#\ Language\ being\ evaluated}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00069}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{00069}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}\ =\ \mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1PromptLoader}{PromptLoader}}()}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00070}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aac788377daa7decfddd4183314aa2794}{00070}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aac788377daa7decfddd4183314aa2794}{logger}}\ =\ logging.getLogger(\textcolor{stringliteral}{"{}CrosswordPromptTemplate"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00071}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{00071}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{config}}\ =\ get\_config()}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Experimental\ configuration\ with\ config\ defaults}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00074}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_af33700b0b2ec7f72ec0a5a8eb74ade6a}{00074}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_af33700b0b2ec7f72ec0a5a8eb74ade6a}{shot\_type}}\ =\ \textcolor{stringliteral}{"{}zero-\/shot"{}}\ \ \textcolor{comment}{\#\ zero-\/shot,\ one-\/shot,\ few-\/shot}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00075}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aff9b295f9ce0fbd51a91e3425bdad82b}{00075}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aff9b295f9ce0fbd51a91e3425bdad82b}{chain\_of\_thought}}\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{config}}.get\_bool(\textcolor{stringliteral}{"{}DEFAULT\_CHAIN\_OF\_THOUGHT"{}},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00076}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_acab1c321adbb82115b9301b8d6fcdb5e}{00076}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_acab1c321adbb82115b9301b8d6fcdb5e}{reasoning\_effort}}\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{config}}.get(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}DEFAULT\_REASONING\_EFFORT"{}},\ \textcolor{stringliteral}{"{}normal"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ )\ \ \textcolor{comment}{\#\ low,\ normal,\ high}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00079}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a5dde6a6a2ce11dadddcd157a81122a2e}{00079}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a5dde6a6a2ce11dadddcd157a81122a2e}{self\_reflection}}\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{config}}.get\_bool(\textcolor{stringliteral}{"{}DEFAULT\_SELF\_REFLECTION"{}},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00080}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_adbc8b3920a6044a42f51a8b2dc970011}{00080}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_adbc8b3920a6044a42f51a8b2dc970011}{batch\_size}}\ =\ int(self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a93b945411540500615a314eb495fb83d}{config}}.get(\textcolor{stringliteral}{"{}DEFAULT\_EVALUATION\_BATCH\_SIZE"{}},\ \textcolor{stringliteral}{"{}1"{}}))}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00082}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_afc9d27052ef0ff1313b17242d1e22aca}{00082}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_afc9d27052ef0ff1313b17242d1e22aca}{\_inject\_language}}(self,\ prompt\_text:\ str)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Inject\ target\ evaluation\ language\ into\ prompt\ placeholders."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ prompt\_text.format(language=self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a407f9c20630dc48ed62a3a3c4ed47f25}{target\_language}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00086}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a9910942fb7619bc05f304b398926d3fa}{00086}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a9910942fb7619bc05f304b398926d3fa}{configure\_experiment}}(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ shot\_type:\ str\ =\ \textcolor{stringliteral}{"{}zero-\/shot"{}},}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ chain\_of\_thought:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ reasoning\_effort:\ str\ =\ \textcolor{stringliteral}{"{}normal"{}},}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ self\_reflection:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ batch\_size:\ int\ =\ 1,}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00093}00093\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Configure\ experimental\ parameters\ for\ prompt\ generation."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_af33700b0b2ec7f72ec0a5a8eb74ade6a}{shot\_type}}\ =\ shot\_type}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aff9b295f9ce0fbd51a91e3425bdad82b}{chain\_of\_thought}}\ =\ chain\_of\_thought}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_acab1c321adbb82115b9301b8d6fcdb5e}{reasoning\_effort}}\ =\ reasoning\_effort}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a5dde6a6a2ce11dadddcd157a81122a2e}{self\_reflection}}\ =\ self\_reflection}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_adbc8b3920a6044a42f51a8b2dc970011}{batch\_size}}\ =\ batch\_size}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00101}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a3581c21e68b77ec10e86449bc42f7229}{00101}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a3581c21e68b77ec10e86449bc42f7229}{format\_puzzle\_for\_model}}(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ self,\ puzzle,\ few\_shot\_examples:\ Optional[List]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00103}00103\ \ \ \ \ )\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Generate\ a\ complete\ prompt\ for\ the\ model\ based\ on\ experimental\ configuration.}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00106}00106\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00107}00107\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ puzzle:\ CrosswordPuzzle\ object\ or\ list\ of\ puzzles\ for\ batch\ evaluation}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ few\_shot\_examples:\ List\ of\ example\ puzzles\ for\ few-\/shot\ prompting}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00110}00110\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Complete\ formatted\ prompt\ string}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ prompt\_parts\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ few-\/shot\ examples\ if\ configured}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_af33700b0b2ec7f72ec0a5a8eb74ade6a}{shot\_type}}\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}one-\/shot"{}},\ \textcolor{stringliteral}{"{}few-\/shot"{}}]\ \textcolor{keywordflow}{and}\ few\_shot\_examples:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a04a4dba15cf293483584a19fae7f7e09}{\_format\_few\_shot\_section}}(few\_shot\_examples))}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ reasoning\ effort\ instruction}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_acab1c321adbb82115b9301b8d6fcdb5e}{reasoning\_effort}}\ ==\ \textcolor{stringliteral}{"{}high"{}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reasoning\_effort.json"{}},\ \textcolor{stringliteral}{"{}high\_reasoning\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_acab1c321adbb82115b9301b8d6fcdb5e}{reasoning\_effort}}\ ==\ \textcolor{stringliteral}{"{}low"{}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reasoning\_effort.json"{}},\ \textcolor{stringliteral}{"{}low\_reasoning\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ chain\ of\ thought\ instruction}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aff9b295f9ce0fbd51a91e3425bdad82b}{chain\_of\_thought}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}chain\_of\_thought.json"{}},\ \textcolor{stringliteral}{"{}chain\_of\_thought\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}chain\_of\_thought.json"{}},\ \textcolor{stringliteral}{"{}no\_chain\_of\_thought\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ main\ puzzle(s)}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(puzzle,\ list):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Batch\ evaluation}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a74de885b2ba76dfcdc8a76aa72815a45}{\_format\_batch\_puzzles}}(puzzle))}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Single\ puzzle}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a30034154e926734817dd36f17bfafe52}{\_format\_single\_puzzle}}(puzzle))}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ self-\/reflection\ instruction\ if\ configured}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a5dde6a6a2ce11dadddcd157a81122a2e}{self\_reflection}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reasoning\_effort.json"{}},\ \textcolor{stringliteral}{"{}self\_reflection\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ prompt\_parts.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}}.join(prompt\_parts)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00161}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a04a4dba15cf293483584a19fae7f7e09}{00161}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a04a4dba15cf293483584a19fae7f7e09}{\_format\_few\_shot\_section}}(self,\ examples:\ List)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ few-\/shot\ examples\ section."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ header\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(\textcolor{stringliteral}{"{}few\_shot\_examples.json"{}},\ \textcolor{stringliteral}{"{}few\_shot\_header"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ example\_template\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}few\_shot\_examples.json"{}},\ \textcolor{stringliteral}{"{}example\_template"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ examples\_text\ =\ [header]}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ num\_examples\ =\ min(len(examples),\ 1\ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_af33700b0b2ec7f72ec0a5a8eb74ade6a}{shot\_type}}\ ==\ \textcolor{stringliteral}{"{}one-\/shot"{}}\ \textcolor{keywordflow}{else}\ 3)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ example\ \textcolor{keywordflow}{in}\ enumerate(examples[:num\_examples]):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ example\_text\ =\ example\_template.format(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ example\_num=i\ +\ 1,}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ grid=self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ab356970ca42b38fc8d450bcf4a779b0a}{\_format\_grid\_with\_numbers}}(example),}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ clues=self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a82b6159409820db7208c1a3ad404c2e2}{\_format\_clues\_section}}(example),}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ words=self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ae30b9b9627de2f3b8fac8c877866e1a0}{\_format\_solution\_words}}(example),}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ solution\_grid=self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aac8b294d75936d1093ba81bc81f2f090}{\_format\_solution\_grid}}(example),}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ examples\_text.append(example\_text)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ transition\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}few\_shot\_examples.json"{}},\ \textcolor{stringliteral}{"{}transition\_to\_puzzle"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ examples\_text.append(transition)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00186}00186\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(examples\_text)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00189}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a30034154e926734817dd36f17bfafe52}{00189}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a30034154e926734817dd36f17bfafe52}{\_format\_single\_puzzle}}(self,\ puzzle)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ a\ single\ puzzle\ for\ evaluation."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ base\_instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}base\_prompts.json"{}},\ \textcolor{stringliteral}{"{}base\_instruction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Inject\ target\ language\ into\ base\ instruction}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ base\_instruction\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_afc9d27052ef0ff1313b17242d1e22aca}{\_inject\_language}}(base\_instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00196}00196\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ grid\_header\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(\textcolor{stringliteral}{"{}base\_prompts.json"{}},\ \textcolor{stringliteral}{"{}grid\_header"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ clues\_header\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(\textcolor{stringliteral}{"{}base\_prompts.json"{}},\ \textcolor{stringliteral}{"{}clues\_header"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ task\_description\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}task\_instructions.json"{}},\ \textcolor{stringliteral}{"{}task\_description"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ response\_format\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}task\_instructions.json"{}},\ \textcolor{stringliteral}{"{}response\_format"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ response\_example\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}task\_instructions.json"{}},\ \textcolor{stringliteral}{"{}response\_example"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}"{}"{}\{base\_instruction\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00210}00210\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00211}00211\ \textcolor{stringliteral}{\{grid\_header\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00212}00212\ \textcolor{stringliteral}{\{self.\_format\_grid\_with\_numbers(puzzle)\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00213}00213\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00214}00214\ \textcolor{stringliteral}{\{clues\_header\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00215}00215\ \textcolor{stringliteral}{\{self.\_format\_clues\_section(puzzle)\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00216}00216\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00217}00217\ \textcolor{stringliteral}{\{task\_description\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00218}00218\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00219}00219\ \textcolor{stringliteral}{\{response\_format\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00220}00220\ \textcolor{stringliteral}{\{response\_example\}"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00222}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a74de885b2ba76dfcdc8a76aa72815a45}{00222}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a74de885b2ba76dfcdc8a76aa72815a45}{\_format\_batch\_puzzles}}(self,\ puzzles:\ List)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ multiple\ puzzles\ for\ batch\ evaluation."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ puzzle\_sections\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00225}00225\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ puzzle\ \textcolor{keywordflow}{in}\ enumerate(puzzles):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ section\ =\ f\textcolor{stringliteral}{"{}===\ PUZZLE\ \{i\ +\ 1\}\ ===\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ section\ +=\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a30034154e926734817dd36f17bfafe52}{\_format\_single\_puzzle}}(puzzle)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ puzzle\_sections.append(section)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}}.join(puzzle\_sections)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00232}00232\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00233}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ab356970ca42b38fc8d450bcf4a779b0a}{00233}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ab356970ca42b38fc8d450bcf4a779b0a}{\_format\_grid\_with\_numbers}}(self,\ puzzle)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ numbered\ grid\ showing\ where\ each\ word\ starts."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ copy\ of\ the\ grid\ to\ add\ numbers}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ display\_grid\ =\ [row[:]\ \textcolor{keywordflow}{for}\ row\ \textcolor{keywordflow}{in}\ puzzle.get\_grid()]}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ number\ markers\ where\ words\ start}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ clue\ \textcolor{keywordflow}{in}\ puzzle.get\_clues():}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ row,\ col\ =\ clue.start\_row,\ clue.start\_col}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ display\_grid[row][col]\ ==\ \textcolor{stringliteral}{"{}\_"{}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ display\_grid[row][col]\ =\ str(clue.number)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Format\ for\ display}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ lines\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ row\ \textcolor{keywordflow}{in}\ display\_grid:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ line\ =\ \textcolor{stringliteral}{"{}\ "{}}.join(f\textcolor{stringliteral}{"{}\{cell:>2\}"{}}\ \textcolor{keywordflow}{for}\ cell\ \textcolor{keywordflow}{in}\ row)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ lines.append(line)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(lines)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00252}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a82b6159409820db7208c1a3ad404c2e2}{00252}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a82b6159409820db7208c1a3ad404c2e2}{\_format\_clues\_section}}(self,\ puzzle)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ the\ clues\ section\ with\ position\ details."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ instructions\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ clue\ \textcolor{keywordflow}{in}\ sorted(puzzle.get\_clues(),\ key=\textcolor{keyword}{lambda}\ c:\ (c.direction,\ c.number)):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ instruction\ =\ f\textcolor{stringliteral}{"{}"{}"{}Clue\ number\ \{clue.number\}\ (\{clue.direction\}):}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00258}00258\ \textcolor{stringliteral}{-\/\ Clue:\ \{clue.clue\_text\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00259}00259\ \textcolor{stringliteral}{-\/\ Length:\ \{clue.length\}\ letters}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00260}00260\ \textcolor{stringliteral}{-\/\ Starts\ at:\ Row\ \{clue.start\_row\ +\ 1\},\ Column\ \{clue.start\_col\ +\ 1\}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00261}00261\ \textcolor{stringliteral}{-\/\ Fill\ positions:\ \{self.\_get\_position\_list(clue)\}"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00262}00262\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ instructions.append(instruction)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00264}00264\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(instructions)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00266}00266\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00267}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ae30b9b9627de2f3b8fac8c877866e1a0}{00267}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ae30b9b9627de2f3b8fac8c877866e1a0}{\_format\_solution\_words}}(self,\ puzzle)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ solution\ words\ for\ few-\/shot\ examples."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ words\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ clue\ \textcolor{keywordflow}{in}\ sorted(puzzle.get\_clues(),\ key=\textcolor{keyword}{lambda}\ c:\ (c.direction,\ c.number)):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ words.append(f\textcolor{stringliteral}{"{}\{clue.number\}\ \{clue.direction\}:\ \{clue.answer\}"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(words)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00273}00273\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00274}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aac8b294d75936d1093ba81bc81f2f090}{00274}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_aac8b294d75936d1093ba81bc81f2f090}{\_format\_solution\_grid}}(self,\ puzzle)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Format\ solution\ grid\ for\ few-\/shot\ examples."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ solution\_grid\ =\ puzzle.get\_solution\_grid()}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ lines\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ row\ \textcolor{keywordflow}{in}\ solution\_grid:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ line\ =\ \textcolor{stringliteral}{"{}\ "{}}.join(f\textcolor{stringliteral}{"{}\{cell:>2\}"{}}\ \textcolor{keywordflow}{for}\ cell\ \textcolor{keywordflow}{in}\ row)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ lines.append(line)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(lines)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00283}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ab57f4e4069db0863ceb0b6d41df12daa}{00283}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ab57f4e4069db0863ceb0b6d41df12daa}{\_get\_position\_list}}(self,\ clue)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ list\ of\ grid\ positions\ for\ a\ word."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ positions\ =\ []}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ row,\ col\ =\ clue.start\_row,\ clue.start\_col}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00287}00287\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00288}00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(clue.length):}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ clue.direction\ ==\ \textcolor{stringliteral}{"{}across"{}}:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ positions.append(f\textcolor{stringliteral}{"{}(\{row\ +\ 1\},\{col\ +\ 1\ +\ i\})"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:\ \ \textcolor{comment}{\#\ down}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ positions.append(f\textcolor{stringliteral}{"{}(\{row\ +\ 1\ +\ i\},\{col\ +\ 1\})"{}})}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00293}00293\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\ \ "{}}.join(positions)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00295}00295\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00296}\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ad78992fb310f562802d341ba63ebf9f0}{00296}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_ad78992fb310f562802d341ba63ebf9f0}{generate\_self\_reflection\_prompt}}(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ self,\ puzzle,\ previous\_response:\ str,\ errors:\ List[str]}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00298}00298\ \ \ \ \ )\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Generate\ a\ self-\/reflection\ prompt\ with\ error\ feedback."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ correction\_template\ =\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a54727f7ca0db77301ebb7917e41059d0}{loader}}.get\_prompt(}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reasoning\_effort.json"{}},\ \textcolor{stringliteral}{"{}self\_reflection\_correction"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ errors\_text\ =\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join([f\textcolor{stringliteral}{"{}-\/\ \{error\}"{}}\ \textcolor{keywordflow}{for}\ error\ \textcolor{keywordflow}{in}\ errors])}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ correction\_template.format(errors=errors\_text)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ +\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ +\ self.\mbox{\hyperlink{classbuddhi__pragati_1_1evaluate_1_1templates_1_1CrosswordPromptTemplate_a30034154e926734817dd36f17bfafe52}{\_format\_single\_puzzle}}(puzzle)}
\DoxyCodeLine{\Hypertarget{templates_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ )}

\end{DoxyCode}
